<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ú–æ–∏ –∑–∞–∫–∞–∑—ã</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: Arial, sans-serif; background: #f5f5f5; padding: 20px; }
        .container { max-width: 1200px; margin: 0 auto; }
        header { background: white; padding: 20px; border-radius: 5px; margin-bottom: 20px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        h1 { color: #333; margin-bottom: 10px; }
        nav { margin: 10px 0; }
        nav a { margin-right: 15px; text-decoration: none; color: #007bff; font-weight: bold; }
        nav a:hover { text-decoration: underline; }
        nav span { color: #666; margin-right: 15px; }
        table { 
            width: 100%; 
            border-collapse: collapse; 
            background: white; 
            border-radius: 5px; 
            overflow: hidden; 
            box-shadow: 0 2px 5px rgba(0,0,0,0.1); 
        }
        th, td { 
            padding: 15px; 
            text-align: left; 
            border-bottom: 1px solid #ddd; 
        }
        th { 
            background: #f0f0f0; 
            font-weight: bold; 
            color: #333; 
        }
        tr:hover { 
            background: #f9f9f9; 
        }
        .empty { 
            text-align: center; 
            padding: 40px; 
            background: white; 
            border-radius: 5px; 
            color: #999; 
            box-shadow: 0 2px 5px rgba(0,0,0,0.1); 
        }
        .badge { 
            padding: 5px 10px; 
            border-radius: 3px; 
            font-size: 12px; 
            font-weight: bold; 
        }
        .badge-new { 
            background: #ffc107; 
            color: white; 
        }
        .badge-delivered { 
            background: #28a745; 
            color: white; 
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üì¶ –ú–æ–∏ –∑–∞–∫–∞–∑—ã</h1>
            <nav>
                <a href="{% url 'product_list' %}">‚Üê –ù–∞–∑–∞–¥ –≤ –∫–∞—Ç–∞–ª–æ–≥</a>
                <span>üë§ {{ user.username }}</span>
                <a href="{% url 'logout' %}">üö™ –í—ã—Ö–æ–¥</a>
            </nav>
        </header>

        {% if orders %}
            <table>
                <thead>
                    <tr>
                        <th>‚Ññ –ó–∞–∫–∞–∑–∞</th>
                        <th>–¢–æ–≤–∞—Ä—ã (SKU)</th>
                        <th>–î–∞—Ç–∞ –∑–∞–∫–∞–∑–∞</th>
                        <th>–°—Ç–∞—Ç—É—Å</th>
                        <th>–ü—É–Ω–∫—Ç –≤—ã–¥–∞—á–∏</th>
                        <th>–ö–æ–¥ –ø–æ–ª—É—á–µ–Ω–∏—è</th>
                    </tr>
                </thead>
                <tbody>
                    {% for order in orders %}
                    <tr>
                        <td><strong>#{{ order.id }}</strong></td>
                        <td>{{ order.get_skus }}</td>
                        <td>{{ order.createdAt|date:"d.m.Y H:i" }}</td>
                        <td>
                            {% if order.status == 'new' %}
                                <span class="badge badge-new">{{ order.get_status_display }}</span>
                            {% else %}
                                <span class="badge badge-delivered">{{ order.get_status_display }}</span>
                            {% endif %}
                        </td>
                        <td>{{ order.pickupPoint.address }}</td>
                        <td><strong style="color: #28a745;">{{ order.receiveCode }}</strong></td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        {% else %}
            <div class="empty">
                <p>üì≠ –£ –≤–∞—Å –Ω–µ—Ç –∑–∞–∫–∞–∑–æ–≤</p>
                <p><a href="{% url 'product_list' %}" style="color: #007bff;">‚Üê –ü–µ—Ä–µ–π—Ç–∏ –≤ –∫–∞—Ç–∞–ª–æ–≥</a></p>
            </div>
        {% endif %}
    </div>
</body>
</html>
